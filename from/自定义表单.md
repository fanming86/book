# 2-自定义表单

----

默认情况下，当Django渲染Widget为实际的HTML代码时，不会帮你添加任何的CSS样式，也就是说网页上所有的TextInput元素的外观是一样的

在真正的网页中，你可ending不想让每个Widget看上去都一样。可能想要给comment一个更大的输入框，可能想让‘name’ Widget具有一些特殊的CSS类。

可以在创建Widget时使用Widget.attrs参数来实现这一目的：
`form.py`
```python
from django import forms

class AddForm(forms.Form):
    name = forms.CharField(widget=forms.TextInput(attrs={'size': '40', 'placeholder': '姓名'}))
    age = forms.IntegerField()
    email = forms.EmailField(label='邮件',
                             max_length=50,
                             error_messages={"required": "yyy用户名不能为空！！！！！",
                                             'invalid': 'yyy邮箱格式错误..'},
                             widget=forms.TextInput(attrs={"class": "form-control",
                                                           "placeholder": "请输入邮箱账号",
                                                           "value": "",
                                                           "required": "required",
                                                           }),
                             )

```
>size、placeholder 等都是css属性  
attrs={'class': 'special'} 可以给标签加上class 属性



## 从models 构建表单自定义
>ModelForm 组件

```python
class Meta:
            model,                           # 对应Model的名称
            fields=None,                     # 字段
            exclude=None,                    # 排除字段
            labels=None,                     # 提示信息
            help_texts=None,                 # 帮助提示信息
            widgets=None,                    # 自定义插件
            error_messages=None,             # 自定义错误信息
            field_classes=None               # 自定义字段类 （也可以自定义字段）
            localized_fields=('birth_date',) # 本地化，如：根据不同时区显示数据

```


## 手动渲染表单
我们没有必要非要让Django来解包表单字段；我们可以手动来处理（比如，让我们对字段重新排序）。每个字段都可以用 {{ form.name_of_field }} 作为表单的一个属性，并被相应的渲染在Django模板中  

* **{{ field.errors }}**
    - 输出一个包含对应该字段所有验证错误信息  
* **{{ field.id_for_label }}**
    - 用于该字段的 ID  
* **{{ field.label }}**    
    - 字段的label，比如 Email address  

```html
<div>
    <label id="{{ form.email.id_for_label }}">{{ form.email.label }}:</label>
    {{ form.email }}
    {% if form.email.errors %}
        <span>{{ form.email.errors }}</span>
    {% endif %}
</div>
```

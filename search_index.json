{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["introduct"],"chapter1/":["chapter1"],"chapter1/聚合函数.1.html":["#","1","1.1","1、所有的聚合函数都是放在·django.db.models2、聚合函数不能够单独执行，需要放在一些可执行聚合函数的方法下面执行，例如aggregate3、聚合函数执行完成后，会生成一个字段，字段名为1filedname+__+聚合函数的名字。以上生成的新字段名为‘price__avg’。","2","=",">>>","aggreg","aggregate()是queryset","aggregate方法返回的不是queryset对象，而是一个字典，这个字典中的键就是新生成字段的名称‘newavg’","annot","annotate:","annotate方法返回结果的不仅仅是含有统计结果的一个字典，而是包含有新增统计字段的查询集(queryset）","avg","book.objects,aggregate(newavg=avg(\"price\"))","book.objects.aggregate(avg(\"price\"))","book.objects.annotate(num_authors=count('authors'))","by）后再聚合的操作，则需要使用annotate来实现","count","max","min","q","q[0].num_author","q[1].num_author","q是books的queryset,","result","sum","但是每本书按照作者的数量进行了聚合.","如果你想要对数据进行分组（group","此名字可以自行定义，在查询时给定关键字名称即可","的一个终止子句，意思是说，它返回一个包含一些键值对的字典。","给返回的记录添加一个额外的临时字段","聚合函数","键的名称是聚合值的标识符，值是计算出来的聚合值。键的名称是按照字段和聚合函数的名称自动生成出来的"],"chapter1/section1.2.html":["section1.2"]},"length":4},"tokenStore":{"root":{"1":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}},".":{"1":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":5}}},"docs":{}},"、":{"docs":{},"所":{"docs":{},"有":{"docs":{},"的":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"函":{"docs":{},"数":{"docs":{},"都":{"docs":{},"是":{"docs":{},"放":{"docs":{},"在":{"docs":{},"·":{"docs":{},"d":{"docs":{},"j":{"docs":{},"a":{"docs":{},"n":{"docs":{},"g":{"docs":{},"o":{"docs":{},".":{"docs":{},"d":{"docs":{},"b":{"docs":{},".":{"docs":{},"m":{"docs":{},"o":{"docs":{},"d":{"docs":{},"e":{"docs":{},"l":{"docs":{},"s":{"2":{"docs":{},"、":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"函":{"docs":{},"数":{"docs":{},"不":{"docs":{},"能":{"docs":{},"够":{"docs":{},"单":{"docs":{},"独":{"docs":{},"执":{"docs":{},"行":{"docs":{},"，":{"docs":{},"需":{"docs":{},"要":{"docs":{},"放":{"docs":{},"在":{"docs":{},"一":{"docs":{},"些":{"docs":{},"可":{"docs":{},"执":{"docs":{},"行":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"函":{"docs":{},"数":{"docs":{},"的":{"docs":{},"方":{"docs":{},"法":{"docs":{},"下":{"docs":{},"面":{"docs":{},"执":{"docs":{},"行":{"docs":{},"，":{"docs":{},"例":{"docs":{},"如":{"docs":{},"a":{"docs":{},"g":{"docs":{},"g":{"docs":{},"r":{"docs":{},"e":{"docs":{},"g":{"docs":{},"a":{"docs":{},"t":{"docs":{},"e":{"3":{"docs":{},"、":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"函":{"docs":{},"数":{"docs":{},"执":{"docs":{},"行":{"docs":{},"完":{"docs":{},"成":{"docs":{},"后":{"docs":{},"，":{"docs":{},"会":{"docs":{},"生":{"docs":{},"成":{"docs":{},"一":{"docs":{},"个":{"docs":{},"字":{"docs":{},"段":{"docs":{},"，":{"docs":{},"字":{"docs":{},"段":{"docs":{},"名":{"docs":{},"为":{"1":{"docs":{},"f":{"docs":{},"i":{"docs":{},"l":{"docs":{},"e":{"docs":{},"d":{"docs":{},"n":{"docs":{},"a":{"docs":{},"m":{"docs":{},"e":{"docs":{},"+":{"docs":{},"_":{"docs":{},"_":{"docs":{},"+":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"函":{"docs":{},"数":{"docs":{},"的":{"docs":{},"名":{"docs":{},"字":{"docs":{},"。":{"docs":{},"以":{"docs":{},"上":{"docs":{},"生":{"docs":{},"成":{"docs":{},"的":{"docs":{},"新":{"docs":{},"字":{"docs":{},"段":{"docs":{},"名":{"docs":{},"为":{"docs":{},"‘":{"docs":{},"p":{"docs":{},"r":{"docs":{},"i":{"docs":{},"c":{"docs":{},"e":{"docs":{},"_":{"docs":{},"_":{"docs":{},"a":{"docs":{},"v":{"docs":{},"g":{"docs":{},"’":{"docs":{},"。":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"2":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}},"docs":{},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{},"r":{"docs":{},"o":{"docs":{},"d":{"docs":{},"u":{"docs":{},"c":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":11}}}}}}}}}}},"c":{"docs":{},"h":{"docs":{},"a":{"docs":{},"p":{"docs":{},"t":{"docs":{},"e":{"docs":{},"r":{"1":{"docs":{"chapter1/":{"ref":"chapter1/","tf":11}}},"docs":{}}}}}}},"o":{"docs":{},"u":{"docs":{},"n":{"docs":{},"t":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}},"#":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}},"=":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.07692307692307693}}},">":{"docs":{},">":{"docs":{},">":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.07692307692307693}}}}},"a":{"docs":{},"g":{"docs":{},"g":{"docs":{},"r":{"docs":{},"e":{"docs":{},"g":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}},"a":{"docs":{},"t":{"docs":{},"e":{"docs":{},"(":{"docs":{},")":{"docs":{},"是":{"docs":{},"q":{"docs":{},"u":{"docs":{},"e":{"docs":{},"r":{"docs":{},"y":{"docs":{},"s":{"docs":{},"e":{"docs":{},"t":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}},"方":{"docs":{},"法":{"docs":{},"返":{"docs":{},"回":{"docs":{},"的":{"docs":{},"不":{"docs":{},"是":{"docs":{},"q":{"docs":{},"u":{"docs":{},"e":{"docs":{},"r":{"docs":{},"y":{"docs":{},"s":{"docs":{},"e":{"docs":{},"t":{"docs":{},"对":{"docs":{},"象":{"docs":{},"，":{"docs":{},"而":{"docs":{},"是":{"docs":{},"一":{"docs":{},"个":{"docs":{},"字":{"docs":{},"典":{"docs":{},"，":{"docs":{},"这":{"docs":{},"个":{"docs":{},"字":{"docs":{},"典":{"docs":{},"中":{"docs":{},"的":{"docs":{},"键":{"docs":{},"就":{"docs":{},"是":{"docs":{},"新":{"docs":{},"生":{"docs":{},"成":{"docs":{},"字":{"docs":{},"段":{"docs":{},"的":{"docs":{},"名":{"docs":{},"称":{"docs":{},"‘":{"docs":{},"n":{"docs":{},"e":{"docs":{},"w":{"docs":{},"a":{"docs":{},"v":{"docs":{},"g":{"docs":{},"’":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"n":{"docs":{},"n":{"docs":{},"o":{"docs":{},"t":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}},"a":{"docs":{},"t":{"docs":{},"e":{"docs":{},":":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}},"方":{"docs":{},"法":{"docs":{},"返":{"docs":{},"回":{"docs":{},"结":{"docs":{},"果":{"docs":{},"的":{"docs":{},"不":{"docs":{},"仅":{"docs":{},"仅":{"docs":{},"是":{"docs":{},"含":{"docs":{},"有":{"docs":{},"统":{"docs":{},"计":{"docs":{},"结":{"docs":{},"果":{"docs":{},"的":{"docs":{},"一":{"docs":{},"个":{"docs":{},"字":{"docs":{},"典":{"docs":{},"，":{"docs":{},"而":{"docs":{},"是":{"docs":{},"包":{"docs":{},"含":{"docs":{},"有":{"docs":{},"新":{"docs":{},"增":{"docs":{},"统":{"docs":{},"计":{"docs":{},"字":{"docs":{},"段":{"docs":{},"的":{"docs":{},"查":{"docs":{},"询":{"docs":{},"集":{"docs":{},"(":{"docs":{},"q":{"docs":{},"u":{"docs":{},"e":{"docs":{},"r":{"docs":{},"y":{"docs":{},"s":{"docs":{},"e":{"docs":{},"t":{"docs":{},"）":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"v":{"docs":{},"g":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}},"b":{"docs":{},"o":{"docs":{},"o":{"docs":{},"k":{"docs":{},".":{"docs":{},"o":{"docs":{},"b":{"docs":{},"j":{"docs":{},"e":{"docs":{},"c":{"docs":{},"t":{"docs":{},"s":{"docs":{},",":{"docs":{},"a":{"docs":{},"g":{"docs":{},"g":{"docs":{},"r":{"docs":{},"e":{"docs":{},"g":{"docs":{},"a":{"docs":{},"t":{"docs":{},"e":{"docs":{},"(":{"docs":{},"n":{"docs":{},"e":{"docs":{},"w":{"docs":{},"a":{"docs":{},"v":{"docs":{},"g":{"docs":{},"=":{"docs":{},"a":{"docs":{},"v":{"docs":{},"g":{"docs":{},"(":{"docs":{},"\"":{"docs":{},"p":{"docs":{},"r":{"docs":{},"i":{"docs":{},"c":{"docs":{},"e":{"docs":{},"\"":{"docs":{},")":{"docs":{},")":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},".":{"docs":{},"a":{"docs":{},"g":{"docs":{},"g":{"docs":{},"r":{"docs":{},"e":{"docs":{},"g":{"docs":{},"a":{"docs":{},"t":{"docs":{},"e":{"docs":{},"(":{"docs":{},"a":{"docs":{},"v":{"docs":{},"g":{"docs":{},"(":{"docs":{},"\"":{"docs":{},"p":{"docs":{},"r":{"docs":{},"i":{"docs":{},"c":{"docs":{},"e":{"docs":{},"\"":{"docs":{},")":{"docs":{},")":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}},"n":{"docs":{},"n":{"docs":{},"o":{"docs":{},"t":{"docs":{},"a":{"docs":{},"t":{"docs":{},"e":{"docs":{},"(":{"docs":{},"n":{"docs":{},"u":{"docs":{},"m":{"docs":{},"_":{"docs":{},"a":{"docs":{},"u":{"docs":{},"t":{"docs":{},"h":{"docs":{},"o":{"docs":{},"r":{"docs":{},"s":{"docs":{},"=":{"docs":{},"c":{"docs":{},"o":{"docs":{},"u":{"docs":{},"n":{"docs":{},"t":{"docs":{},"(":{"docs":{},"'":{"docs":{},"a":{"docs":{},"u":{"docs":{},"t":{"docs":{},"h":{"docs":{},"o":{"docs":{},"r":{"docs":{},"s":{"docs":{},"'":{"docs":{},")":{"docs":{},")":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"y":{"docs":{},"）":{"docs":{},"后":{"docs":{},"再":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"的":{"docs":{},"操":{"docs":{},"作":{"docs":{},"，":{"docs":{},"则":{"docs":{},"需":{"docs":{},"要":{"docs":{},"使":{"docs":{},"用":{"docs":{},"a":{"docs":{},"n":{"docs":{},"n":{"docs":{},"o":{"docs":{},"t":{"docs":{},"a":{"docs":{},"t":{"docs":{},"e":{"docs":{},"来":{"docs":{},"实":{"docs":{},"现":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"m":{"docs":{},"a":{"docs":{},"x":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}},"i":{"docs":{},"n":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}},"q":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}},"[":{"0":{"docs":{},"]":{"docs":{},".":{"docs":{},"n":{"docs":{},"u":{"docs":{},"m":{"docs":{},"_":{"docs":{},"a":{"docs":{},"u":{"docs":{},"t":{"docs":{},"h":{"docs":{},"o":{"docs":{},"r":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}},"1":{"docs":{},"]":{"docs":{},".":{"docs":{},"n":{"docs":{},"u":{"docs":{},"m":{"docs":{},"_":{"docs":{},"a":{"docs":{},"u":{"docs":{},"t":{"docs":{},"h":{"docs":{},"o":{"docs":{},"r":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}},"docs":{}},"是":{"docs":{},"b":{"docs":{},"o":{"docs":{},"o":{"docs":{},"k":{"docs":{},"s":{"docs":{},"的":{"docs":{},"q":{"docs":{},"u":{"docs":{},"e":{"docs":{},"r":{"docs":{},"y":{"docs":{},"s":{"docs":{},"e":{"docs":{},"t":{"docs":{},",":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}},"r":{"docs":{},"e":{"docs":{},"s":{"docs":{},"u":{"docs":{},"l":{"docs":{},"t":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.05128205128205128}}}}}}}},"s":{"docs":{},"u":{"docs":{},"m":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}},"e":{"docs":{},"c":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"1":{"docs":{},".":{"2":{"docs":{"chapter1/section1.2.html":{"ref":"chapter1/section1.2.html","tf":11}}},"docs":{}}},"docs":{}}}}}}}},"但":{"docs":{},"是":{"docs":{},"每":{"docs":{},"本":{"docs":{},"书":{"docs":{},"按":{"docs":{},"照":{"docs":{},"作":{"docs":{},"者":{"docs":{},"的":{"docs":{},"数":{"docs":{},"量":{"docs":{},"进":{"docs":{},"行":{"docs":{},"了":{"docs":{},"聚":{"docs":{},"合":{"docs":{},".":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}},"如":{"docs":{},"果":{"docs":{},"你":{"docs":{},"想":{"docs":{},"要":{"docs":{},"对":{"docs":{},"数":{"docs":{},"据":{"docs":{},"进":{"docs":{},"行":{"docs":{},"分":{"docs":{},"组":{"docs":{},"（":{"docs":{},"g":{"docs":{},"r":{"docs":{},"o":{"docs":{},"u":{"docs":{},"p":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}},"此":{"docs":{},"名":{"docs":{},"字":{"docs":{},"可":{"docs":{},"以":{"docs":{},"自":{"docs":{},"行":{"docs":{},"定":{"docs":{},"义":{"docs":{},"，":{"docs":{},"在":{"docs":{},"查":{"docs":{},"询":{"docs":{},"时":{"docs":{},"给":{"docs":{},"定":{"docs":{},"关":{"docs":{},"键":{"docs":{},"字":{"docs":{},"名":{"docs":{},"称":{"docs":{},"即":{"docs":{},"可":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}},"的":{"docs":{},"一":{"docs":{},"个":{"docs":{},"终":{"docs":{},"止":{"docs":{},"子":{"docs":{},"句":{"docs":{},"，":{"docs":{},"意":{"docs":{},"思":{"docs":{},"是":{"docs":{},"说":{"docs":{},"，":{"docs":{},"它":{"docs":{},"返":{"docs":{},"回":{"docs":{},"一":{"docs":{},"个":{"docs":{},"包":{"docs":{},"含":{"docs":{},"一":{"docs":{},"些":{"docs":{},"键":{"docs":{},"值":{"docs":{},"对":{"docs":{},"的":{"docs":{},"字":{"docs":{},"典":{"docs":{},"。":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"给":{"docs":{},"返":{"docs":{},"回":{"docs":{},"的":{"docs":{},"记":{"docs":{},"录":{"docs":{},"添":{"docs":{},"加":{"docs":{},"一":{"docs":{},"个":{"docs":{},"额":{"docs":{},"外":{"docs":{},"的":{"docs":{},"临":{"docs":{},"时":{"docs":{},"字":{"docs":{},"段":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}},"聚":{"docs":{},"合":{"docs":{},"函":{"docs":{},"数":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":5.051282051282051}}}}}},"键":{"docs":{},"的":{"docs":{},"名":{"docs":{},"称":{"docs":{},"是":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"值":{"docs":{},"的":{"docs":{},"标":{"docs":{},"识":{"docs":{},"符":{"docs":{},"，":{"docs":{},"值":{"docs":{},"是":{"docs":{},"计":{"docs":{},"算":{"docs":{},"出":{"docs":{},"来":{"docs":{},"的":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"值":{"docs":{},"。":{"docs":{},"键":{"docs":{},"的":{"docs":{},"名":{"docs":{},"称":{"docs":{},"是":{"docs":{},"按":{"docs":{},"照":{"docs":{},"字":{"docs":{},"段":{"docs":{},"和":{"docs":{},"聚":{"docs":{},"合":{"docs":{},"函":{"docs":{},"数":{"docs":{},"的":{"docs":{},"名":{"docs":{},"称":{"docs":{},"自":{"docs":{},"动":{"docs":{},"生":{"docs":{},"成":{"docs":{},"出":{"docs":{},"来":{"docs":{},"的":{"docs":{"chapter1/聚合函数.1.html":{"ref":"chapter1/聚合函数.1.html","tf":0.02564102564102564}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"length":37},"corpusTokens":["#","1","1.1","1、所有的聚合函数都是放在·django.db.models2、聚合函数不能够单独执行，需要放在一些可执行聚合函数的方法下面执行，例如aggregate3、聚合函数执行完成后，会生成一个字段，字段名为1filedname+__+聚合函数的名字。以上生成的新字段名为‘price__avg’。","2","=",">>>","aggreg","aggregate()是queryset","aggregate方法返回的不是queryset对象，而是一个字典，这个字典中的键就是新生成字段的名称‘newavg’","annot","annotate:","annotate方法返回结果的不仅仅是含有统计结果的一个字典，而是包含有新增统计字段的查询集(queryset）","avg","book.objects,aggregate(newavg=avg(\"price\"))","book.objects.aggregate(avg(\"price\"))","book.objects.annotate(num_authors=count('authors'))","by）后再聚合的操作，则需要使用annotate来实现","chapter1","count","introduct","max","min","q","q[0].num_author","q[1].num_author","q是books的queryset,","result","section1.2","sum","但是每本书按照作者的数量进行了聚合.","如果你想要对数据进行分组（group","此名字可以自行定义，在查询时给定关键字名称即可","的一个终止子句，意思是说，它返回一个包含一些键值对的字典。","给返回的记录添加一个额外的临时字段","聚合函数","键的名称是聚合值的标识符，值是计算出来的聚合值。键的名称是按照字段和聚合函数的名称自动生成出来的"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"Introduction","keywords":"","body":"Introduction\n"},"chapter1/":{"url":"chapter1/","title":"Chapter1","keywords":"","body":"Chapter1\n"},"chapter1/聚合函数.1.html":{"url":"chapter1/聚合函数.1.html","title":"1.1-聚合函数","keywords":"","body":"聚合函数\n\n1、所有的聚合函数都是放在·django.db.models2、聚合函数不能够单独执行，需要放在一些可执行聚合函数的方法下面执行，例如aggregate3、聚合函数执行完成后，会生成一个字段，字段名为1filedname+__+聚合函数的名字。以上生成的新字段名为‘price__avg’。\n此名字可以自行定义，在查询时给定关键字名称即可\nresult = book.objects,aggregate(newavg=Avg(\"price\"))\n\naggregate\n\naggregate()是QuerySet 的一个终止子句，意思是说，它返回一个包含一些键值对的字典。  键的名称是聚合值的标识符，值是计算出来的聚合值。键的名称是按照字段和聚合函数的名称自动生成出来的 \n\n如果你想要对数据进行分组（GROUP BY）后再聚合的操作，则需要使用annotate来实现   \nresult = book.objects.aggregate(Avg(\"price\"))\n\naggregate方法返回的不是querySet对象，而是一个字典，这个字典中的键就是新生成字段的名称‘newavg’\nannotate\n\nannotate: 给返回的记录添加一个额外的临时字段  \nannotate方法返回结果的不仅仅是含有统计结果的一个字典，而是包含有新增统计字段的查询集(queryset）\n\n\n>>> q = book.objects.annotate(num_authors=Count('authors'))\n>>> q[0].num_authors\n2\n>>> q[1].num_authors\n1\n# q是books的queryset, 但是每本书按照作者的数量进行了聚合.\n\n聚合函数\nAvg\nCount\nMax\nMin\nSum\n"},"chapter1/section1.2.html":{"url":"chapter1/section1.2.html","title":"Section1.2","keywords":"","body":"Section1.2\n"}}}